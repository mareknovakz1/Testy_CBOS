<testsuites id="" name="" tests="2" failures="1" skipped="0" errors="0" time="4.8806840000000005">
  <testsuite name="Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts" timestamp="2025-11-25T14:28:01.887Z" hostname="API" tests="2" failures="1" skipped="0" time="3.285" errors="0">
    <testcase name="TC_001: Regresní test životního cyklu objednávek přes API ...  @regression @api @life_cycle @high @order @test" classname="Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts" time="1.698">
      <system-out><![CDATA[2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.267[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:23[39m[0m[0m]FIXTURE 'authToken': Budu vytvářet nový request kontext...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.273[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:25[39m[0m[0m]FIXTURE 'authToken': Request kontext vytvořen.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.276[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:27[39m[0m[0m]Definuji loginPayload pro přihlášení...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.279[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:32[39m[0m[0m]Přihlašovací údaji: {"operator":"TESTING_AUTOMAT","password":"1"}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.282[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:34[39m[0m[0m]FIXTURE 'authToken': Kóduji přihlašovací údaje do Base64...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:03[0m[0m.285[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:38[39m[0m[0m]FIXTURE 'authToken': Odesílám POST požadavek na 'http://192.168.130.239:8180/auth-api/user/authorization' s Base64... 
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.073[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:43[39m[0m[0m]FIXTURE 'authToken': Odpověď přijata se statusem 201.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.076[0m[0m [32m[1mDEBUG[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:45[39m[0m[0m]FIXTURE 'authToken': Kontroluji, zda je odpověď OK (status 2xx)...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.080[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:62[39m[0m[0m]FIXTURE 'authToken': Získávám 'accessToken' z JSON odpovědi.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.084[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:66[39m[0m[0m]FIXTURE 'authToken': Volám 'use(token)' a předávám token dál...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.086[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:95[39m[0m[0m]FIXTURE 'apiClient': Budu vytvářet novou instanci ApiClient s poskytnutým tokenem.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.087[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:98[39m[0m[0m]FIXTURE 'apiClient': Instance ApiClient byla úspěšně vytvořena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.089[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:100[39m[0m[0m]FIXTURE 'apiClient': Volám 'use(client)' a předávám hotového klienta testu...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.091[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:276[39m[0m[0m]Spouštím test: TC_001 - Regresní test životního cyklu objednávek přes API
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.095[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][3348553c] ---> POST http://192.168.130.239:8180/documents-api/orders/231 {
  params: [90mundefined[39m,
  data: {
    orderDate: [32m'2025-11-25T14:28:04.094Z'[39m,
    deliveryDate: [32m'2025-11-26T14:28:04.094Z'[39m,
    description: [32m'AutoTest_TC_001_1764080884092'[39m,
    ownerName: [32m'ČEPRO, a.s.'[39m,
    ownerId: [33m1[39m,
    stockId: [33m231[39m,
    supplierId: [33m8[39m,
    supplierName: [32m'Banner Baterie ČR spol.s r.o.'[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'3348553c'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.147[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][3348553c] <--- 201 POST http://192.168.130.239:8180/documents-api/orders/231 (46.84 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.152[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:105[39m[0m[0m]Krok 1 OK: Objednávka vytvořena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.154[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][5747ae42] ---> GET http://192.168.130.239:8180/reports-api/listOfOrders {
  params: {
    stockId: [33m231[39m,
    year: [33m2025[39m
  },
  data: [90mundefined[39m,
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'5747ae42'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.304[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][5747ae42] <--- 200 GET http://192.168.130.239:8180/reports-api/listOfOrders (147.63 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.311[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:120[39m[0m[0m]Krok 2 OK: Objednávka ID 162 nalezena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.315[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][ce9a1cee] ---> GET http://192.168.130.239:8180/reports-api/listOfStockCards/60193531/231 {
  params: {
    search: [32m'040328'[39m,
    searchType: [32m'PLU'[39m,
    stockId: [33m231[39m,
    ownerId: [33m1[39m,
    supplierId: [33m8[39m,
    stkitmType: [32m'D'[39m,
    for: [32m'orders'[39m
  },
  data: [90mundefined[39m,
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'ce9a1cee'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.496[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][ce9a1cee] <--- 200 GET http://192.168.130.239:8180/reports-api/listOfStockCards/60193531/231 (178.38 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.508[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:139[39m[0m[0m]Krok 3 OK: StockCard ID: 959
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.514[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:156[39m[0m[0m]Krok 4: Odesílám items...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.518[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][6c76b3c0] ---> POST http://192.168.130.239:8180/documents-api/ordersitems/231 {
  params: [90mundefined[39m,
  data: {
    orderId: [33m162[39m,
    stockCardId: [33m959[39m,
    amount: [33m1[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'6c76b3c0'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.682[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][6c76b3c0] <--- 201 POST http://192.168.130.239:8180/documents-api/ordersitems/231 (159.57 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.688[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:162[39m[0m[0m]Krok 4 OK: Item odeslán.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.691[0m[0m [32m[1mDEBUG[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:169[39m[0m[0m]Krok 5: Stahuji items pro objednávku 162.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.693[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][1b9f7bdb] ---> GET http://192.168.130.239:8180/documents-api/orders/items/231/162 {
  params: {},
  data: [90mundefined[39m,
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'1b9f7bdb'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.721[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][1b9f7bdb] <--- 200 GET http://192.168.130.239:8180/documents-api/orders/items/231/162 (26.13 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.730[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:185[39m[0m[0m]Krok 5 OK: Získáno ordersItemId: 141
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.735[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][812dd87f] ---> PUT http://192.168.130.239:8180/documents-api/orders/ordersSend/231 {
  params: [90mundefined[39m,
  data: {
    stockId: [33m231[39m,
    orderId: [33m162[39m,
    sendOrder: [33mfalse[39m,
    saveEmail: [33mfalse[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'812dd87f'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.798[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][812dd87f] <--- 204 PUT http://192.168.130.239:8180/documents-api/orders/ordersSend/231 (60.32 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.804[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:203[39m[0m[0m]Krok 6 OK: Objednávka odeslána.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.807[0m[0m [32m[1mDEBUG[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:221[39m[0m[0m]Krok 7 PUT: /documents-api/ordersItems/231/141
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.810[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][ba5d41d9] ---> PUT http://192.168.130.239:8180/documents-api/ordersItems/231/141 {
  params: [90mundefined[39m,
  data: {
    orderId: [33m162[39m,
    stockCardId: [33m959[39m,
    amount: [33m10[39m,
    comment: [32m'Automaticky schváleno'[39m,
    agreement: [33mtrue[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'ba5d41d9'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.859[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][ba5d41d9] <--- 204 PUT http://192.168.130.239:8180/documents-api/ordersItems/231/141 (46.99 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.868[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:224[39m[0m[0m]Krok 7 OK: Rozdíl schválen.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.871[0m[0m [32m[1mDEBUG[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:244[39m[0m[0m]Krok 8: Volám POST /documents-api/orders/valid/231/162 s payloadem: {"emulateJSON":true,"emulateHTTP":true}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.873[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][e267edfb] ---> POST http://192.168.130.239:8180/documents-api/orders/valid/231/162 {
  params: [90mundefined[39m,
  data: {
    emulateJSON: [33mtrue[39m,
    emulateHTTP: [33mtrue[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'e267edfb'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.930[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][e267edfb] <--- 204 POST http://192.168.130.239:8180/documents-api/orders/valid/231/162 (55.33 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.936[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:251[39m[0m[0m]Krok 8 OK: Objednávka 162 byla úspěšně validována.
]]></system-out>
    </testcase>
    <testcase name="TC_002: Negativní test - Duplicitní přidání položky ...  @regression @api @medium @negative @test" classname="Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts" time="1.587">
      <failure message="Objednvaky_life_cycle_regrese_api.spec.ts:275:9 TC_002: Negativní test - Duplicitní přidání položky ...  @regression @api @medium @negative @test" type="FAILURE"><![CDATA[  [API] › Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:275:9 › TC_002: Negativní test - Duplicitní přidání položky ...  @regression @api @medium @negative @test › Krok 4: undefined 

    ApiError: [N/A] API Error: Status 409 on http://192.168.130.239:8180/documents-api/ordersitems/231

       at ..\api\BaseApiClient.ts:118

      116 |             const errorMessage = `[${requestId}] API Error: Status ${response.status()} on ${response.url()}`;
      117 |             logger.error(errorMessage, { body: responseBodyText });   // ...zalogujeme chybu
    > 118 |             throw new ApiError(errorMessage, response.status(), responseBodyText); // ...a vyhodíme naši vlastní chybovou třídu
          |                   ^
      119 |         }
      120 |         
      121 |         if (response.status() === 204 || responseBodyText.length === 0) { // Pokud je odpověď 'No Content' nebo prázdná...
        at DocumentsApiService._handleAndParseResponse (C:\Users\novakma\Testy_CBOS\api\BaseApiClient.ts:118:19)
        at C:\Users\novakma\Testy_CBOS\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:157:35
        at addOrderItem (C:\Users\novakma\Testy_CBOS\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:145:5)
        at C:\Users\novakma\Testy_CBOS\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:313:17
]]></failure>
      <system-out><![CDATA[2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.969[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:23[39m[0m[0m]FIXTURE 'authToken': Budu vytvářet nový request kontext...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.974[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:25[39m[0m[0m]FIXTURE 'authToken': Request kontext vytvořen.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.976[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:27[39m[0m[0m]Definuji loginPayload pro přihlášení...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.978[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:32[39m[0m[0m]Přihlašovací údaji: {"operator":"TESTING_AUTOMAT","password":"1"}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.980[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:34[39m[0m[0m]FIXTURE 'authToken': Kóduji přihlašovací údaje do Base64...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:04[0m[0m.982[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:38[39m[0m[0m]FIXTURE 'authToken': Odesílám POST požadavek na 'http://192.168.130.239:8180/auth-api/user/authorization' s Base64... 
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.000[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:43[39m[0m[0m]FIXTURE 'authToken': Odpověď přijata se statusem 201.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.002[0m[0m [32m[1mDEBUG[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:45[39m[0m[0m]FIXTURE 'authToken': Kontroluji, zda je odpověď OK (status 2xx)...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.007[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:62[39m[0m[0m]FIXTURE 'authToken': Získávám 'accessToken' z JSON odpovědi.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.011[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:66[39m[0m[0m]FIXTURE 'authToken': Volám 'use(token)' a předávám token dál...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.014[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:95[39m[0m[0m]FIXTURE 'apiClient': Budu vytvářet novou instanci ApiClient s poskytnutým tokenem.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.015[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:98[39m[0m[0m]FIXTURE 'apiClient': Instance ApiClient byla úspěšně vytvořena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.018[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\support\fixtures\auth.fixture.ts:100[39m[0m[0m]FIXTURE 'apiClient': Volám 'use(client)' a předávám hotového klienta testu...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.020[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:276[39m[0m[0m]Spouštím test: TC_002 - Negativní test - Duplicitní přidání položky
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.022[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][8b451afd] ---> POST http://192.168.130.239:8180/documents-api/orders/231 {
  params: [90mundefined[39m,
  data: {
    orderDate: [32m'2025-11-25T14:28:06.022Z'[39m,
    deliveryDate: [32m'2025-11-26T14:28:06.022Z'[39m,
    description: [32m'AutoTest_TC_002_1764080886021'[39m,
    ownerName: [32m'ČEPRO, a.s.'[39m,
    ownerId: [33m1[39m,
    stockId: [33m231[39m,
    supplierId: [33m8[39m,
    supplierName: [32m'Banner Baterie ČR spol.s r.o.'[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'8b451afd'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.095[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][8b451afd] <--- 201 POST http://192.168.130.239:8180/documents-api/orders/231 (70.25 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.099[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:105[39m[0m[0m]Krok 1 OK: Objednávka vytvořena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.102[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][06958fb5] ---> GET http://192.168.130.239:8180/reports-api/listOfOrders {
  params: {
    stockId: [33m231[39m,
    year: [33m2025[39m
  },
  data: [90mundefined[39m,
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'06958fb5'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.294[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][06958fb5] <--- 200 GET http://192.168.130.239:8180/reports-api/listOfOrders (189.92 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.301[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:120[39m[0m[0m]Krok 2 OK: Objednávka ID 163 nalezena.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.304[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][b8564213] ---> GET http://192.168.130.239:8180/reports-api/listOfStockCards/60193531/231 {
  params: {
    search: [32m'040328'[39m,
    searchType: [32m'PLU'[39m,
    stockId: [33m231[39m,
    ownerId: [33m1[39m,
    supplierId: [33m8[39m,
    stkitmType: [32m'D'[39m,
    for: [32m'orders'[39m
  },
  data: [90mundefined[39m,
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'b8564213'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.375[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][b8564213] <--- 200 GET http://192.168.130.239:8180/reports-api/listOfStockCards/60193531/231 (69.17 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.381[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:139[39m[0m[0m]Krok 3 OK: StockCard ID: 959
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.385[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:156[39m[0m[0m]Krok 4: Odesílám items...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.387[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][3c32edeb] ---> POST http://192.168.130.239:8180/documents-api/ordersitems/231 {
  params: [90mundefined[39m,
  data: {
    orderId: [33m163[39m,
    stockCardId: [33m959[39m,
    amount: [33m10[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'3c32edeb'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.478[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][3c32edeb] <--- 201 POST http://192.168.130.239:8180/documents-api/ordersitems/231 (88.18 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.482[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:162[39m[0m[0m]Krok 4 OK: Item odeslán.
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.485[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\tests\Regrese\Doklady\Objednavky\Objednvaky_life_cycle_regrese_api.spec.ts:156[39m[0m[0m]Krok 4: Odesílám items...
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.487[0m[0m [97m[1mTRACE[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:76[39m[0m[0m][3480aa20] ---> POST http://192.168.130.239:8180/documents-api/ordersitems/231 {
  params: [90mundefined[39m,
  data: {
    orderId: [33m163[39m,
    stockCardId: [33m959[39m,
    amount: [33m5[39m
  },
  headers: {
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [32m'application/json;charset=UTF-8'[39m,
    [32m'X-Request-ID'[39m: [32m'3480aa20'[39m,
    Authorization: [32m'*** MASKED ***'[39m
  }
}
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.537[0m[0m [34m[1mINFO[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:94[39m[0m[0m][3480aa20] <--- 409 POST http://192.168.130.239:8180/documents-api/ordersitems/231 (47.54 ms)
2025[0m[0m-11[0m[0m-25[0m[0m 14[0m[0m:28[0m[0m:06[0m[0m.543[0m[0m [31m[1mERROR[22m[39m[0m[0m [[37m\api\BaseApiClient.ts:117[39m[0m[0m][N/A] API Error: Status 409 on http://192.168.130.239:8180/documents-api/ordersitems/231 {
  body: [32m'{"status":409,"message":"duplicate revaluation","duplicitItem":{"id":142,"category_id":36,"comment":null,"created":"2025-11-25T14:28:06.407Z","ean":"3800034955539","order_id":163,"stock_card_id":959,"plu":"040328","stock_card_name":"AREON MON CHOCOLATE & CHERRY","item_id":1,"supplier_goods_nr":null,"amount":10,"delivered_amount":null,"valid":null,"tandem":null,"tandem_connection_id":null,"updated":"2025-11-25T14:28:06.407Z","operator":"TESTING_AUTOMAT","supplier_status":false}}'[39m
}
]]></system-out>
    </testcase>
  </testsuite>
</testsuites>